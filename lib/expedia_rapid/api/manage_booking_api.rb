=begin
#Rapid

#EPS Rapid V3

The version of the OpenAPI document: v3

Generated by: https://openapi-generator.tech
Generator version: 7.10.0

=end

require 'cgi'

module ExpediaRapid
  class ManageBookingApi
    attr_accessor :api_client

    def initialize(api_client = ApiClient.default)
      @api_client = api_client
    end
    # Change details of a room.
    # This link will be available in the retrieve response. Changes in smoking preference and special request will be passed along to the property and are not guaranteed.
    # @param accept [String] Specifies the response format that the client would like to receive back. This must be &#x60;application/json&#x60;.
    # @param accept_encoding [String] Specifies the response encoding that the client would like to receive back. This must be &#x60;gzip&#x60;.
    # @param content_type [String] This parameter is to specify what format the request body is in. The only supported value is application/json.
    # @param customer_ip [String] IP address of the customer, as captured by your integration.&lt;br&gt; Ensure your integration passes the customer&#39;s IP, not your own. This value helps determine their location and assign the correct payment gateway.&lt;br&gt; Also used for fraud recovery and other important analytics.
    # @param user_agent [String] The &#x60;User-Agent&#x60; header string from the customer&#39;s request, as captured by your integration. If you are building an application then the &#x60;User-Agent&#x60; value should be &#x60;{app name}/{app version}&#x60;.
    # @param itinerary_id [String] This parameter is used only to prefix the token value - no ID value is used.&lt;br&gt;
    # @param room_id [String] Room ID of a property.&lt;br&gt;
    # @param token [String] Provided as part of the link object and used to maintain state across calls. This simplifies each subsequent call by limiting the amount of information required at each step and reduces the potential for errors. Token values cannot be viewed or changed.
    # @param change_room_details_request [ChangeRoomDetailsRequest] The request body is required, but only the fields that are being changed need to be passed in. Fields that are not being changed should not be included in the request body.
    # @param [Hash] opts the optional parameters
    # @option opts [String] :customer_session_id Insert your own unique value for each user session, beginning with the first API call. Continue to pass the same value for each subsequent API call during the user&#39;s session, using a new value for every new customer session.&lt;br&gt; Including this value greatly eases EPS&#39;s internal debugging process for issues with partner requests, as it explicitly links together request paths for individual user&#39;s session.
    # @option opts [String] :test The change call has a test header that can be used to return set responses with the following keywords:&lt;br&gt; * &#x60;standard&#x60; - Requires valid test booking. * &#x60;service_unavailable&#x60; * &#x60;unknown_internal_error&#x60;
    # @return [nil]
    def change_room_details(accept, accept_encoding, content_type, customer_ip, user_agent, itinerary_id, room_id, token, change_room_details_request, opts = {})
      change_room_details_with_http_info(accept, accept_encoding, content_type, customer_ip, user_agent, itinerary_id, room_id, token, change_room_details_request, opts)
      nil
    end

    # Change details of a room.
    # This link will be available in the retrieve response. Changes in smoking preference and special request will be passed along to the property and are not guaranteed.
    # @param accept [String] Specifies the response format that the client would like to receive back. This must be &#x60;application/json&#x60;.
    # @param accept_encoding [String] Specifies the response encoding that the client would like to receive back. This must be &#x60;gzip&#x60;.
    # @param content_type [String] This parameter is to specify what format the request body is in. The only supported value is application/json.
    # @param customer_ip [String] IP address of the customer, as captured by your integration.&lt;br&gt; Ensure your integration passes the customer&#39;s IP, not your own. This value helps determine their location and assign the correct payment gateway.&lt;br&gt; Also used for fraud recovery and other important analytics.
    # @param user_agent [String] The &#x60;User-Agent&#x60; header string from the customer&#39;s request, as captured by your integration. If you are building an application then the &#x60;User-Agent&#x60; value should be &#x60;{app name}/{app version}&#x60;.
    # @param itinerary_id [String] This parameter is used only to prefix the token value - no ID value is used.&lt;br&gt;
    # @param room_id [String] Room ID of a property.&lt;br&gt;
    # @param token [String] Provided as part of the link object and used to maintain state across calls. This simplifies each subsequent call by limiting the amount of information required at each step and reduces the potential for errors. Token values cannot be viewed or changed.
    # @param change_room_details_request [ChangeRoomDetailsRequest] The request body is required, but only the fields that are being changed need to be passed in. Fields that are not being changed should not be included in the request body.
    # @param [Hash] opts the optional parameters
    # @option opts [String] :customer_session_id Insert your own unique value for each user session, beginning with the first API call. Continue to pass the same value for each subsequent API call during the user&#39;s session, using a new value for every new customer session.&lt;br&gt; Including this value greatly eases EPS&#39;s internal debugging process for issues with partner requests, as it explicitly links together request paths for individual user&#39;s session.
    # @option opts [String] :test The change call has a test header that can be used to return set responses with the following keywords:&lt;br&gt; * &#x60;standard&#x60; - Requires valid test booking. * &#x60;service_unavailable&#x60; * &#x60;unknown_internal_error&#x60;
    # @return [Array<(nil, Integer, Hash)>] nil, response status code and response headers
    def change_room_details_with_http_info(accept, accept_encoding, content_type, customer_ip, user_agent, itinerary_id, room_id, token, change_room_details_request, opts = {})
      if @api_client.config.debugging
        @api_client.config.logger.debug 'Calling API: ManageBookingApi.change_room_details ...'
      end
      # verify the required parameter 'accept' is set
      if @api_client.config.client_side_validation && accept.nil?
        fail ArgumentError, "Missing the required parameter 'accept' when calling ManageBookingApi.change_room_details"
      end
      # verify the required parameter 'accept_encoding' is set
      if @api_client.config.client_side_validation && accept_encoding.nil?
        fail ArgumentError, "Missing the required parameter 'accept_encoding' when calling ManageBookingApi.change_room_details"
      end
      # verify the required parameter 'content_type' is set
      if @api_client.config.client_side_validation && content_type.nil?
        fail ArgumentError, "Missing the required parameter 'content_type' when calling ManageBookingApi.change_room_details"
      end
      # verify the required parameter 'customer_ip' is set
      if @api_client.config.client_side_validation && customer_ip.nil?
        fail ArgumentError, "Missing the required parameter 'customer_ip' when calling ManageBookingApi.change_room_details"
      end
      # verify the required parameter 'user_agent' is set
      if @api_client.config.client_side_validation && user_agent.nil?
        fail ArgumentError, "Missing the required parameter 'user_agent' when calling ManageBookingApi.change_room_details"
      end
      # verify the required parameter 'itinerary_id' is set
      if @api_client.config.client_side_validation && itinerary_id.nil?
        fail ArgumentError, "Missing the required parameter 'itinerary_id' when calling ManageBookingApi.change_room_details"
      end
      # verify the required parameter 'room_id' is set
      if @api_client.config.client_side_validation && room_id.nil?
        fail ArgumentError, "Missing the required parameter 'room_id' when calling ManageBookingApi.change_room_details"
      end
      # verify the required parameter 'token' is set
      if @api_client.config.client_side_validation && token.nil?
        fail ArgumentError, "Missing the required parameter 'token' when calling ManageBookingApi.change_room_details"
      end
      # verify the required parameter 'change_room_details_request' is set
      if @api_client.config.client_side_validation && change_room_details_request.nil?
        fail ArgumentError, "Missing the required parameter 'change_room_details_request' when calling ManageBookingApi.change_room_details"
      end
      allowable_values = ["standard", "service_unavailable", "unknown_internal_error"]
      if @api_client.config.client_side_validation && opts[:'test'] && !allowable_values.include?(opts[:'test'])
        fail ArgumentError, "invalid value for \"test\", must be one of #{allowable_values}"
      end
      # resource path
      local_var_path = '/itineraries/{itinerary_id}/rooms/{room_id}'.sub('{' + 'itinerary_id' + '}', CGI.escape(itinerary_id.to_s)).sub('{' + 'room_id' + '}', CGI.escape(room_id.to_s))

      # query parameters
      query_params = opts[:query_params] || {}
      query_params[:'token'] = token

      # header parameters
      header_params = opts[:header_params] || {}
      # HTTP header 'Accept' (if needed)
      header_params['Accept'] = @api_client.select_header_accept(['application/json']) unless header_params['Accept']
      # HTTP header 'Content-Type'
      content_type = @api_client.select_header_content_type(['application/json'])
      if !content_type.nil?
        header_params['Content-Type'] = content_type
      end
      header_params[:'Accept'] = accept
      header_params[:'Accept-Encoding'] = accept_encoding
      header_params[:'Content-Type'] = content_type
      header_params[:'Customer-Ip'] = customer_ip
      header_params[:'User-Agent'] = user_agent
      header_params[:'Customer-Session-Id'] = opts[:'customer_session_id'] if !opts[:'customer_session_id'].nil?
      header_params[:'Test'] = opts[:'test'] if !opts[:'test'].nil?

      # form parameters
      form_params = opts[:form_params] || {}

      # http body (model)
      post_body = opts[:debug_body] || @api_client.object_to_http_body(change_room_details_request)

      # return_type
      return_type = opts[:debug_return_type]

      # auth_names
      auth_names = opts[:debug_auth_names] || ['rapidAuth']

      new_options = opts.merge(
        :operation => :"ManageBookingApi.change_room_details",
        :header_params => header_params,
        :query_params => query_params,
        :form_params => form_params,
        :body => post_body,
        :auth_names => auth_names,
        :return_type => return_type
      )

      data, status_code, headers = @api_client.call_api(:PUT, local_var_path, new_options)
      if @api_client.config.debugging
        @api_client.config.logger.debug "API called: ManageBookingApi#change_room_details\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"
      end
      return data, status_code, headers
    end

    # Commit a change of itinerary that may require additional payment or refund.
    # This link will be available in the change response to confirm and complete the change transaction.  If additional charges are due, a payment must be submitted with this request. Note that Two-Factor  Authentication is not supported at this time.
    # @param accept [String] Specifies the response format that the client would like to receive back. This must be &#x60;application/json&#x60;.
    # @param accept_encoding [String] Specifies the response encoding that the client would like to receive back. This must be &#x60;gzip&#x60;.
    # @param authorization [String] The custom generated authentication header. Refer to our [signature authentication](https://developer.expediapartnersolutions.com/reference/signature-authentication) page for full details.
    # @param content_type [String] This parameter is to specify what format the request body is in. The only supported value is application/json.
    # @param customer_ip [String] IP address of the customer, as captured by your integration.&lt;br&gt; Ensure your integration passes the customer&#39;s IP, not your own. This value helps determine their location and assign the correct payment gateway.&lt;br&gt; Also used for fraud recovery and other important analytics.
    # @param user_agent [String] The &#x60;User-Agent&#x60; header string from the customer&#39;s request, as captured by your integration. If you are building an application then the &#x60;User-Agent&#x60; value should be &#x60;{app name}/{app version}&#x60;.
    # @param itinerary_id [String] This parameter is used only to prefix the token value - no ID value is used.&lt;br&gt;
    # @param room_id [String] Room ID of a property.&lt;br&gt;
    # @param token [String] Provided as part of the link object and used to maintain state across calls. This simplifies each subsequent call by limiting the amount of information required at each step and reduces the potential for errors. Token values cannot be viewed or changed.
    # @param [Hash] opts the optional parameters
    # @option opts [String] :customer_session_id Insert your own unique value for each user session, beginning with the first API call. Continue to pass the same value for each subsequent API call during the user&#39;s session, using a new value for every new customer session.&lt;br&gt; Including this value greatly eases EPS&#39;s internal debugging process for issues with partner requests, as it explicitly links together request paths for individual user&#39;s session.
    # @option opts [String] :test The change call has a test header that can be used to return set responses with the following keywords:&lt;br&gt; * &#x60;standard&#x60; - Requires valid test booking. * &#x60;service_unavailable&#x60; * &#x60;unknown_internal_error&#x60;
    # @option opts [CommitChangeRequest] :commit_change_request The request body is required if additional payment is necessary. The body can optionally contain the &#x60;change_reference_id&#x60;.
    # @return [nil]
    def commit_change(accept, accept_encoding, authorization, content_type, customer_ip, user_agent, itinerary_id, room_id, token, opts = {})
      commit_change_with_http_info(accept, accept_encoding, authorization, content_type, customer_ip, user_agent, itinerary_id, room_id, token, opts)
      nil
    end

    # Commit a change of itinerary that may require additional payment or refund.
    # This link will be available in the change response to confirm and complete the change transaction.  If additional charges are due, a payment must be submitted with this request. Note that Two-Factor  Authentication is not supported at this time.
    # @param accept [String] Specifies the response format that the client would like to receive back. This must be &#x60;application/json&#x60;.
    # @param accept_encoding [String] Specifies the response encoding that the client would like to receive back. This must be &#x60;gzip&#x60;.
    # @param authorization [String] The custom generated authentication header. Refer to our [signature authentication](https://developer.expediapartnersolutions.com/reference/signature-authentication) page for full details.
    # @param content_type [String] This parameter is to specify what format the request body is in. The only supported value is application/json.
    # @param customer_ip [String] IP address of the customer, as captured by your integration.&lt;br&gt; Ensure your integration passes the customer&#39;s IP, not your own. This value helps determine their location and assign the correct payment gateway.&lt;br&gt; Also used for fraud recovery and other important analytics.
    # @param user_agent [String] The &#x60;User-Agent&#x60; header string from the customer&#39;s request, as captured by your integration. If you are building an application then the &#x60;User-Agent&#x60; value should be &#x60;{app name}/{app version}&#x60;.
    # @param itinerary_id [String] This parameter is used only to prefix the token value - no ID value is used.&lt;br&gt;
    # @param room_id [String] Room ID of a property.&lt;br&gt;
    # @param token [String] Provided as part of the link object and used to maintain state across calls. This simplifies each subsequent call by limiting the amount of information required at each step and reduces the potential for errors. Token values cannot be viewed or changed.
    # @param [Hash] opts the optional parameters
    # @option opts [String] :customer_session_id Insert your own unique value for each user session, beginning with the first API call. Continue to pass the same value for each subsequent API call during the user&#39;s session, using a new value for every new customer session.&lt;br&gt; Including this value greatly eases EPS&#39;s internal debugging process for issues with partner requests, as it explicitly links together request paths for individual user&#39;s session.
    # @option opts [String] :test The change call has a test header that can be used to return set responses with the following keywords:&lt;br&gt; * &#x60;standard&#x60; - Requires valid test booking. * &#x60;service_unavailable&#x60; * &#x60;unknown_internal_error&#x60;
    # @option opts [CommitChangeRequest] :commit_change_request The request body is required if additional payment is necessary. The body can optionally contain the &#x60;change_reference_id&#x60;.
    # @return [Array<(nil, Integer, Hash)>] nil, response status code and response headers
    def commit_change_with_http_info(accept, accept_encoding, authorization, content_type, customer_ip, user_agent, itinerary_id, room_id, token, opts = {})
      if @api_client.config.debugging
        @api_client.config.logger.debug 'Calling API: ManageBookingApi.commit_change ...'
      end
      # verify the required parameter 'accept' is set
      if @api_client.config.client_side_validation && accept.nil?
        fail ArgumentError, "Missing the required parameter 'accept' when calling ManageBookingApi.commit_change"
      end
      # verify the required parameter 'accept_encoding' is set
      if @api_client.config.client_side_validation && accept_encoding.nil?
        fail ArgumentError, "Missing the required parameter 'accept_encoding' when calling ManageBookingApi.commit_change"
      end
      # verify the required parameter 'authorization' is set
      if @api_client.config.client_side_validation && authorization.nil?
        fail ArgumentError, "Missing the required parameter 'authorization' when calling ManageBookingApi.commit_change"
      end
      # verify the required parameter 'content_type' is set
      if @api_client.config.client_side_validation && content_type.nil?
        fail ArgumentError, "Missing the required parameter 'content_type' when calling ManageBookingApi.commit_change"
      end
      # verify the required parameter 'customer_ip' is set
      if @api_client.config.client_side_validation && customer_ip.nil?
        fail ArgumentError, "Missing the required parameter 'customer_ip' when calling ManageBookingApi.commit_change"
      end
      # verify the required parameter 'user_agent' is set
      if @api_client.config.client_side_validation && user_agent.nil?
        fail ArgumentError, "Missing the required parameter 'user_agent' when calling ManageBookingApi.commit_change"
      end
      # verify the required parameter 'itinerary_id' is set
      if @api_client.config.client_side_validation && itinerary_id.nil?
        fail ArgumentError, "Missing the required parameter 'itinerary_id' when calling ManageBookingApi.commit_change"
      end
      # verify the required parameter 'room_id' is set
      if @api_client.config.client_side_validation && room_id.nil?
        fail ArgumentError, "Missing the required parameter 'room_id' when calling ManageBookingApi.commit_change"
      end
      # verify the required parameter 'token' is set
      if @api_client.config.client_side_validation && token.nil?
        fail ArgumentError, "Missing the required parameter 'token' when calling ManageBookingApi.commit_change"
      end
      allowable_values = ["standard", "service_unavailable", "unknown_internal_error"]
      if @api_client.config.client_side_validation && opts[:'test'] && !allowable_values.include?(opts[:'test'])
        fail ArgumentError, "invalid value for \"test\", must be one of #{allowable_values}"
      end
      # resource path
      local_var_path = '/itineraries/{itinerary_id}/rooms/{room_id}/pricing'.sub('{' + 'itinerary_id' + '}', CGI.escape(itinerary_id.to_s)).sub('{' + 'room_id' + '}', CGI.escape(room_id.to_s))

      # query parameters
      query_params = opts[:query_params] || {}
      query_params[:'token'] = token

      # header parameters
      header_params = opts[:header_params] || {}
      # HTTP header 'Accept' (if needed)
      header_params['Accept'] = @api_client.select_header_accept(['application/json']) unless header_params['Accept']
      # HTTP header 'Content-Type'
      content_type = @api_client.select_header_content_type(['application/json'])
      if !content_type.nil?
        header_params['Content-Type'] = content_type
      end
      header_params[:'Accept'] = accept
      header_params[:'Accept-Encoding'] = accept_encoding
      header_params[:'Authorization'] = authorization
      header_params[:'Content-Type'] = content_type
      header_params[:'Customer-Ip'] = customer_ip
      header_params[:'User-Agent'] = user_agent
      header_params[:'Customer-Session-Id'] = opts[:'customer_session_id'] if !opts[:'customer_session_id'].nil?
      header_params[:'Test'] = opts[:'test'] if !opts[:'test'].nil?

      # form parameters
      form_params = opts[:form_params] || {}

      # http body (model)
      post_body = opts[:debug_body] || @api_client.object_to_http_body(opts[:'commit_change_request'])

      # return_type
      return_type = opts[:debug_return_type]

      # auth_names
      auth_names = opts[:debug_auth_names] || ['rapidAuth']

      new_options = opts.merge(
        :operation => :"ManageBookingApi.commit_change",
        :header_params => header_params,
        :query_params => query_params,
        :form_params => form_params,
        :body => post_body,
        :auth_names => auth_names,
        :return_type => return_type
      )

      data, status_code, headers = @api_client.call_api(:PUT, local_var_path, new_options)
      if @api_client.config.debugging
        @api_client.config.logger.debug "API called: ManageBookingApi#commit_change\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"
      end
      return data, status_code, headers
    end

    # Cancel Held Booking
    # This link will be available in a held booking response.
    # @param accept [String] Specifies the response format that the client would like to receive back. This must be &#x60;application/json&#x60;.
    # @param accept_encoding [String] Specifies the response encoding that the client would like to receive back. This must be &#x60;gzip&#x60;.
    # @param customer_ip [String] IP address of the customer, as captured by your integration.&lt;br&gt; Ensure your integration passes the customer&#39;s IP, not your own. This value helps determine their location and assign the correct payment gateway.&lt;br&gt; Also used for fraud recovery and other important analytics.
    # @param user_agent [String] The &#x60;User-Agent&#x60; header string from the customer&#39;s request, as captured by your integration. If you are building an application then the &#x60;User-Agent&#x60; value should be &#x60;{app name}/{app version}&#x60;.
    # @param itinerary_id [String] This parameter is used only to prefix the token value - no ID value is used.&lt;br&gt;
    # @param token [String] Provided as part of the link object and used to maintain state across calls. This simplifies each subsequent call by limiting the amount of information required at each step and reduces the potential for errors. Token values cannot be viewed or changed.
    # @param [Hash] opts the optional parameters
    # @option opts [String] :customer_session_id Insert your own unique value for each user session, beginning with the first API call. Continue to pass the same value for each subsequent API call during the user&#39;s session, using a new value for every new customer session.&lt;br&gt; Including this value greatly eases EPS&#39;s internal debugging process for issues with partner requests, as it explicitly links together request paths for individual user&#39;s session.
    # @option opts [String] :test The cancel call has a test header that can be used to return set responses with the following keywords:&lt;br&gt; * &#x60;standard&#x60; - Requires valid test held booking. * &#x60;service_unavailable&#x60; * &#x60;internal_server_error&#x60; * &#x60;post_stay_cancel&#x60;
    # @return [nil]
    def delete_held_booking(accept, accept_encoding, customer_ip, user_agent, itinerary_id, token, opts = {})
      delete_held_booking_with_http_info(accept, accept_encoding, customer_ip, user_agent, itinerary_id, token, opts)
      nil
    end

    # Cancel Held Booking
    # This link will be available in a held booking response.
    # @param accept [String] Specifies the response format that the client would like to receive back. This must be &#x60;application/json&#x60;.
    # @param accept_encoding [String] Specifies the response encoding that the client would like to receive back. This must be &#x60;gzip&#x60;.
    # @param customer_ip [String] IP address of the customer, as captured by your integration.&lt;br&gt; Ensure your integration passes the customer&#39;s IP, not your own. This value helps determine their location and assign the correct payment gateway.&lt;br&gt; Also used for fraud recovery and other important analytics.
    # @param user_agent [String] The &#x60;User-Agent&#x60; header string from the customer&#39;s request, as captured by your integration. If you are building an application then the &#x60;User-Agent&#x60; value should be &#x60;{app name}/{app version}&#x60;.
    # @param itinerary_id [String] This parameter is used only to prefix the token value - no ID value is used.&lt;br&gt;
    # @param token [String] Provided as part of the link object and used to maintain state across calls. This simplifies each subsequent call by limiting the amount of information required at each step and reduces the potential for errors. Token values cannot be viewed or changed.
    # @param [Hash] opts the optional parameters
    # @option opts [String] :customer_session_id Insert your own unique value for each user session, beginning with the first API call. Continue to pass the same value for each subsequent API call during the user&#39;s session, using a new value for every new customer session.&lt;br&gt; Including this value greatly eases EPS&#39;s internal debugging process for issues with partner requests, as it explicitly links together request paths for individual user&#39;s session.
    # @option opts [String] :test The cancel call has a test header that can be used to return set responses with the following keywords:&lt;br&gt; * &#x60;standard&#x60; - Requires valid test held booking. * &#x60;service_unavailable&#x60; * &#x60;internal_server_error&#x60; * &#x60;post_stay_cancel&#x60;
    # @return [Array<(nil, Integer, Hash)>] nil, response status code and response headers
    def delete_held_booking_with_http_info(accept, accept_encoding, customer_ip, user_agent, itinerary_id, token, opts = {})
      if @api_client.config.debugging
        @api_client.config.logger.debug 'Calling API: ManageBookingApi.delete_held_booking ...'
      end
      # verify the required parameter 'accept' is set
      if @api_client.config.client_side_validation && accept.nil?
        fail ArgumentError, "Missing the required parameter 'accept' when calling ManageBookingApi.delete_held_booking"
      end
      # verify the required parameter 'accept_encoding' is set
      if @api_client.config.client_side_validation && accept_encoding.nil?
        fail ArgumentError, "Missing the required parameter 'accept_encoding' when calling ManageBookingApi.delete_held_booking"
      end
      # verify the required parameter 'customer_ip' is set
      if @api_client.config.client_side_validation && customer_ip.nil?
        fail ArgumentError, "Missing the required parameter 'customer_ip' when calling ManageBookingApi.delete_held_booking"
      end
      # verify the required parameter 'user_agent' is set
      if @api_client.config.client_side_validation && user_agent.nil?
        fail ArgumentError, "Missing the required parameter 'user_agent' when calling ManageBookingApi.delete_held_booking"
      end
      # verify the required parameter 'itinerary_id' is set
      if @api_client.config.client_side_validation && itinerary_id.nil?
        fail ArgumentError, "Missing the required parameter 'itinerary_id' when calling ManageBookingApi.delete_held_booking"
      end
      # verify the required parameter 'token' is set
      if @api_client.config.client_side_validation && token.nil?
        fail ArgumentError, "Missing the required parameter 'token' when calling ManageBookingApi.delete_held_booking"
      end
      allowable_values = ["standard", "service_unavailable", "internal_server_error", "post_stay_cancel"]
      if @api_client.config.client_side_validation && opts[:'test'] && !allowable_values.include?(opts[:'test'])
        fail ArgumentError, "invalid value for \"test\", must be one of #{allowable_values}"
      end
      # resource path
      local_var_path = '/itineraries/{itinerary_id}'.sub('{' + 'itinerary_id' + '}', CGI.escape(itinerary_id.to_s))

      # query parameters
      query_params = opts[:query_params] || {}
      query_params[:'token'] = token

      # header parameters
      header_params = opts[:header_params] || {}
      # HTTP header 'Accept' (if needed)
      header_params['Accept'] = @api_client.select_header_accept(['application/json']) unless header_params['Accept']
      header_params[:'Accept'] = accept
      header_params[:'Accept-Encoding'] = accept_encoding
      header_params[:'Customer-Ip'] = customer_ip
      header_params[:'User-Agent'] = user_agent
      header_params[:'Customer-Session-Id'] = opts[:'customer_session_id'] if !opts[:'customer_session_id'].nil?
      header_params[:'Test'] = opts[:'test'] if !opts[:'test'].nil?

      # form parameters
      form_params = opts[:form_params] || {}

      # http body (model)
      post_body = opts[:debug_body]

      # return_type
      return_type = opts[:debug_return_type]

      # auth_names
      auth_names = opts[:debug_auth_names] || ['rapidAuth']

      new_options = opts.merge(
        :operation => :"ManageBookingApi.delete_held_booking",
        :header_params => header_params,
        :query_params => query_params,
        :form_params => form_params,
        :body => post_body,
        :auth_names => auth_names,
        :return_type => return_type
      )

      data, status_code, headers = @api_client.call_api(:DELETE, local_var_path, new_options)
      if @api_client.config.debugging
        @api_client.config.logger.debug "API called: ManageBookingApi#delete_held_booking\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"
      end
      return data, status_code, headers
    end

    # Cancel a room.
    # This link will be available in the retrieve response.
    # @param accept [String] Specifies the response format that the client would like to receive back. This must be &#x60;application/json&#x60;.
    # @param accept_encoding [String] Specifies the response encoding that the client would like to receive back. This must be &#x60;gzip&#x60;.
    # @param customer_ip [String] IP address of the customer, as captured by your integration.&lt;br&gt; Ensure your integration passes the customer&#39;s IP, not your own. This value helps determine their location and assign the correct payment gateway.&lt;br&gt; Also used for fraud recovery and other important analytics.
    # @param user_agent [String] The &#x60;User-Agent&#x60; header string from the customer&#39;s request, as captured by your integration. If you are building an application then the &#x60;User-Agent&#x60; value should be &#x60;{app name}/{app version}&#x60;.
    # @param itinerary_id [String] This parameter is used only to prefix the token value - no ID value is used.&lt;br&gt;
    # @param room_id [String] Room ID of a property.&lt;br&gt;
    # @param token [String] Provided as part of the link object and used to maintain state across calls. This simplifies each subsequent call by limiting the amount of information required at each step and reduces the potential for errors. Token values cannot be viewed or changed.
    # @param [Hash] opts the optional parameters
    # @option opts [String] :customer_session_id Insert your own unique value for each user session, beginning with the first API call. Continue to pass the same value for each subsequent API call during the user&#39;s session, using a new value for every new customer session.&lt;br&gt; Including this value greatly eases EPS&#39;s internal debugging process for issues with partner requests, as it explicitly links together request paths for individual user&#39;s session.
    # @option opts [String] :test The cancel call has a test header that can be used to return set responses with the following keywords:&lt;br&gt; * &#x60;standard&#x60; - Requires valid test booking. * &#x60;service_unavailable&#x60; * &#x60;unknown_internal_error&#x60; * &#x60;post_stay_cancel&#x60;
    # @return [nil]
    def delete_room(accept, accept_encoding, customer_ip, user_agent, itinerary_id, room_id, token, opts = {})
      delete_room_with_http_info(accept, accept_encoding, customer_ip, user_agent, itinerary_id, room_id, token, opts)
      nil
    end

    # Cancel a room.
    # This link will be available in the retrieve response.
    # @param accept [String] Specifies the response format that the client would like to receive back. This must be &#x60;application/json&#x60;.
    # @param accept_encoding [String] Specifies the response encoding that the client would like to receive back. This must be &#x60;gzip&#x60;.
    # @param customer_ip [String] IP address of the customer, as captured by your integration.&lt;br&gt; Ensure your integration passes the customer&#39;s IP, not your own. This value helps determine their location and assign the correct payment gateway.&lt;br&gt; Also used for fraud recovery and other important analytics.
    # @param user_agent [String] The &#x60;User-Agent&#x60; header string from the customer&#39;s request, as captured by your integration. If you are building an application then the &#x60;User-Agent&#x60; value should be &#x60;{app name}/{app version}&#x60;.
    # @param itinerary_id [String] This parameter is used only to prefix the token value - no ID value is used.&lt;br&gt;
    # @param room_id [String] Room ID of a property.&lt;br&gt;
    # @param token [String] Provided as part of the link object and used to maintain state across calls. This simplifies each subsequent call by limiting the amount of information required at each step and reduces the potential for errors. Token values cannot be viewed or changed.
    # @param [Hash] opts the optional parameters
    # @option opts [String] :customer_session_id Insert your own unique value for each user session, beginning with the first API call. Continue to pass the same value for each subsequent API call during the user&#39;s session, using a new value for every new customer session.&lt;br&gt; Including this value greatly eases EPS&#39;s internal debugging process for issues with partner requests, as it explicitly links together request paths for individual user&#39;s session.
    # @option opts [String] :test The cancel call has a test header that can be used to return set responses with the following keywords:&lt;br&gt; * &#x60;standard&#x60; - Requires valid test booking. * &#x60;service_unavailable&#x60; * &#x60;unknown_internal_error&#x60; * &#x60;post_stay_cancel&#x60;
    # @return [Array<(nil, Integer, Hash)>] nil, response status code and response headers
    def delete_room_with_http_info(accept, accept_encoding, customer_ip, user_agent, itinerary_id, room_id, token, opts = {})
      if @api_client.config.debugging
        @api_client.config.logger.debug 'Calling API: ManageBookingApi.delete_room ...'
      end
      # verify the required parameter 'accept' is set
      if @api_client.config.client_side_validation && accept.nil?
        fail ArgumentError, "Missing the required parameter 'accept' when calling ManageBookingApi.delete_room"
      end
      # verify the required parameter 'accept_encoding' is set
      if @api_client.config.client_side_validation && accept_encoding.nil?
        fail ArgumentError, "Missing the required parameter 'accept_encoding' when calling ManageBookingApi.delete_room"
      end
      # verify the required parameter 'customer_ip' is set
      if @api_client.config.client_side_validation && customer_ip.nil?
        fail ArgumentError, "Missing the required parameter 'customer_ip' when calling ManageBookingApi.delete_room"
      end
      # verify the required parameter 'user_agent' is set
      if @api_client.config.client_side_validation && user_agent.nil?
        fail ArgumentError, "Missing the required parameter 'user_agent' when calling ManageBookingApi.delete_room"
      end
      # verify the required parameter 'itinerary_id' is set
      if @api_client.config.client_side_validation && itinerary_id.nil?
        fail ArgumentError, "Missing the required parameter 'itinerary_id' when calling ManageBookingApi.delete_room"
      end
      # verify the required parameter 'room_id' is set
      if @api_client.config.client_side_validation && room_id.nil?
        fail ArgumentError, "Missing the required parameter 'room_id' when calling ManageBookingApi.delete_room"
      end
      # verify the required parameter 'token' is set
      if @api_client.config.client_side_validation && token.nil?
        fail ArgumentError, "Missing the required parameter 'token' when calling ManageBookingApi.delete_room"
      end
      allowable_values = ["standard", "service_unavailable", "unknown_internal_error", "post_stay_cancel"]
      if @api_client.config.client_side_validation && opts[:'test'] && !allowable_values.include?(opts[:'test'])
        fail ArgumentError, "invalid value for \"test\", must be one of #{allowable_values}"
      end
      # resource path
      local_var_path = '/itineraries/{itinerary_id}/rooms/{room_id}'.sub('{' + 'itinerary_id' + '}', CGI.escape(itinerary_id.to_s)).sub('{' + 'room_id' + '}', CGI.escape(room_id.to_s))

      # query parameters
      query_params = opts[:query_params] || {}
      query_params[:'token'] = token

      # header parameters
      header_params = opts[:header_params] || {}
      # HTTP header 'Accept' (if needed)
      header_params['Accept'] = @api_client.select_header_accept(['application/json']) unless header_params['Accept']
      header_params[:'Accept'] = accept
      header_params[:'Accept-Encoding'] = accept_encoding
      header_params[:'Customer-Ip'] = customer_ip
      header_params[:'User-Agent'] = user_agent
      header_params[:'Customer-Session-Id'] = opts[:'customer_session_id'] if !opts[:'customer_session_id'].nil?
      header_params[:'Test'] = opts[:'test'] if !opts[:'test'].nil?

      # form parameters
      form_params = opts[:form_params] || {}

      # http body (model)
      post_body = opts[:debug_body]

      # return_type
      return_type = opts[:debug_return_type]

      # auth_names
      auth_names = opts[:debug_auth_names] || ['rapidAuth']

      new_options = opts.merge(
        :operation => :"ManageBookingApi.delete_room",
        :header_params => header_params,
        :query_params => query_params,
        :form_params => form_params,
        :body => post_body,
        :auth_names => auth_names,
        :return_type => return_type
      )

      data, status_code, headers = @api_client.call_api(:DELETE, local_var_path, new_options)
      if @api_client.config.debugging
        @api_client.config.logger.debug "API called: ManageBookingApi#delete_room\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"
      end
      return data, status_code, headers
    end

    # Booking Receipt
    # A link to the booking receipt will be provided in the retrieve response if partner configuration enabled. This endpoint will provide a PDF representation of a booking receipt that can be presented to a traveler for expense tracking purposes.
    # @param accept [String] Specifies the response format that the client would like to receive back. This must be &#x60;application/pdf&#x60;.
    # @param accept_encoding [String] Specifies the response encoding that the client would like to receive back. This must be &#x60;gzip&#x60;.
    # @param customer_ip [String] IP address of the customer, as captured by your integration.&lt;br&gt; Ensure your integration passes the customer&#39;s IP, not your own. This value helps determine their location and assign the correct payment gateway.&lt;br&gt; Also used for fraud recovery and other important analytics.
    # @param user_agent [String] The &#x60;User-Agent&#x60; header string from the customer&#39;s request, as captured by your integration. If you are building an application then the &#x60;User-Agent&#x60; value should be &#x60;{app name}/{app version}&#x60;.
    # @param itinerary_id [String] This path variable will be provided as part of the link. This specifies which itinerary the booking receipt request pertains to.
    # @param token [String] Provided as part of the link object and used to maintain state across calls. This simplifies each subsequent call by limiting the amount of information required at each step and reduces the potential for errors. Token values cannot be viewed or changed.
    # @param [Hash] opts the optional parameters
    # @option opts [String] :customer_session_id Insert your own unique value for each user session, beginning with the first API call. Continue to pass the same value for each subsequent API call during the user&#39;s session, using a new value for every new customer session.&lt;br&gt; Including this value greatly eases EPS&#39;s internal debugging process for issues with partner requests, as it explicitly links together request paths for individual user&#39;s session.
    # @option opts [String] :test The booking receipt call has a test header that can be used to return set responses with the following keywords: * &#x60;standard&#x60; * &#x60;service_unavailable&#x60; * &#x60;internal_server_error&#x60;
    # @option opts [String] :branding This parameter specifies which branding should be present on the generated PDF. Default behavior will be to provide the booking receipt with &#x60;expedia_group&#x60; branding. Some partner configurations may change the default to unbranded.
    # @return [File]
    def get_booking_receipt(accept, accept_encoding, customer_ip, user_agent, itinerary_id, token, opts = {})
      data, _status_code, _headers = get_booking_receipt_with_http_info(accept, accept_encoding, customer_ip, user_agent, itinerary_id, token, opts)
      data
    end

    # Booking Receipt
    # A link to the booking receipt will be provided in the retrieve response if partner configuration enabled. This endpoint will provide a PDF representation of a booking receipt that can be presented to a traveler for expense tracking purposes.
    # @param accept [String] Specifies the response format that the client would like to receive back. This must be &#x60;application/pdf&#x60;.
    # @param accept_encoding [String] Specifies the response encoding that the client would like to receive back. This must be &#x60;gzip&#x60;.
    # @param customer_ip [String] IP address of the customer, as captured by your integration.&lt;br&gt; Ensure your integration passes the customer&#39;s IP, not your own. This value helps determine their location and assign the correct payment gateway.&lt;br&gt; Also used for fraud recovery and other important analytics.
    # @param user_agent [String] The &#x60;User-Agent&#x60; header string from the customer&#39;s request, as captured by your integration. If you are building an application then the &#x60;User-Agent&#x60; value should be &#x60;{app name}/{app version}&#x60;.
    # @param itinerary_id [String] This path variable will be provided as part of the link. This specifies which itinerary the booking receipt request pertains to.
    # @param token [String] Provided as part of the link object and used to maintain state across calls. This simplifies each subsequent call by limiting the amount of information required at each step and reduces the potential for errors. Token values cannot be viewed or changed.
    # @param [Hash] opts the optional parameters
    # @option opts [String] :customer_session_id Insert your own unique value for each user session, beginning with the first API call. Continue to pass the same value for each subsequent API call during the user&#39;s session, using a new value for every new customer session.&lt;br&gt; Including this value greatly eases EPS&#39;s internal debugging process for issues with partner requests, as it explicitly links together request paths for individual user&#39;s session.
    # @option opts [String] :test The booking receipt call has a test header that can be used to return set responses with the following keywords: * &#x60;standard&#x60; * &#x60;service_unavailable&#x60; * &#x60;internal_server_error&#x60;
    # @option opts [String] :branding This parameter specifies which branding should be present on the generated PDF. Default behavior will be to provide the booking receipt with &#x60;expedia_group&#x60; branding. Some partner configurations may change the default to unbranded.
    # @return [Array<(File, Integer, Hash)>] File data, response status code and response headers
    def get_booking_receipt_with_http_info(accept, accept_encoding, customer_ip, user_agent, itinerary_id, token, opts = {})
      if @api_client.config.debugging
        @api_client.config.logger.debug 'Calling API: ManageBookingApi.get_booking_receipt ...'
      end
      # verify the required parameter 'accept' is set
      if @api_client.config.client_side_validation && accept.nil?
        fail ArgumentError, "Missing the required parameter 'accept' when calling ManageBookingApi.get_booking_receipt"
      end
      # verify the required parameter 'accept_encoding' is set
      if @api_client.config.client_side_validation && accept_encoding.nil?
        fail ArgumentError, "Missing the required parameter 'accept_encoding' when calling ManageBookingApi.get_booking_receipt"
      end
      # verify the required parameter 'customer_ip' is set
      if @api_client.config.client_side_validation && customer_ip.nil?
        fail ArgumentError, "Missing the required parameter 'customer_ip' when calling ManageBookingApi.get_booking_receipt"
      end
      # verify the required parameter 'user_agent' is set
      if @api_client.config.client_side_validation && user_agent.nil?
        fail ArgumentError, "Missing the required parameter 'user_agent' when calling ManageBookingApi.get_booking_receipt"
      end
      # verify the required parameter 'itinerary_id' is set
      if @api_client.config.client_side_validation && itinerary_id.nil?
        fail ArgumentError, "Missing the required parameter 'itinerary_id' when calling ManageBookingApi.get_booking_receipt"
      end
      # verify the required parameter 'token' is set
      if @api_client.config.client_side_validation && token.nil?
        fail ArgumentError, "Missing the required parameter 'token' when calling ManageBookingApi.get_booking_receipt"
      end
      allowable_values = ["standard", "service_unavailable", "internal_server_error"]
      if @api_client.config.client_side_validation && opts[:'test'] && !allowable_values.include?(opts[:'test'])
        fail ArgumentError, "invalid value for \"test\", must be one of #{allowable_values}"
      end
      allowable_values = ["expedia_group", "unbranded"]
      if @api_client.config.client_side_validation && opts[:'branding'] && !allowable_values.include?(opts[:'branding'])
        fail ArgumentError, "invalid value for \"branding\", must be one of #{allowable_values}"
      end
      # resource path
      local_var_path = '/itineraries/{itinerary_id}/invoice'.sub('{' + 'itinerary_id' + '}', CGI.escape(itinerary_id.to_s))

      # query parameters
      query_params = opts[:query_params] || {}
      query_params[:'token'] = token
      query_params[:'branding'] = opts[:'branding'] if !opts[:'branding'].nil?

      # header parameters
      header_params = opts[:header_params] || {}
      # HTTP header 'Accept' (if needed)
      header_params['Accept'] = @api_client.select_header_accept(['application/pdf', 'application/json']) unless header_params['Accept']
      header_params[:'Accept'] = accept
      header_params[:'Accept-Encoding'] = accept_encoding
      header_params[:'Customer-Ip'] = customer_ip
      header_params[:'User-Agent'] = user_agent
      header_params[:'Customer-Session-Id'] = opts[:'customer_session_id'] if !opts[:'customer_session_id'].nil?
      header_params[:'Test'] = opts[:'test'] if !opts[:'test'].nil?

      # form parameters
      form_params = opts[:form_params] || {}

      # http body (model)
      post_body = opts[:debug_body]

      # return_type
      return_type = opts[:debug_return_type] || 'File'

      # auth_names
      auth_names = opts[:debug_auth_names] || ['rapidAuth']

      new_options = opts.merge(
        :operation => :"ManageBookingApi.get_booking_receipt",
        :header_params => header_params,
        :query_params => query_params,
        :form_params => form_params,
        :body => post_body,
        :auth_names => auth_names,
        :return_type => return_type
      )

      data, status_code, headers = @api_client.call_api(:GET, local_var_path, new_options)
      if @api_client.config.debugging
        @api_client.config.logger.debug "API called: ManageBookingApi#get_booking_receipt\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"
      end
      return data, status_code, headers
    end

    # Search for and retrieve Bookings with Affiliate Reference Id
    # This can be called directly without a token when an affiliate reference id is provided. It returns details about bookings associated with an affiliate reference id, along with cancel links to cancel the bookings.  <i>Note: Newly created itineraries may sometimes have a small delay between the time of creation and the time that the itinerary can be retrieved. If you receive no results while trying to search for an itinerary that was successfully created, or if you receive a response with two fields, namely, `itinerary_id` and `creation_date_time`, then please wait a few minutes before trying to search for the itinerary again.</i>
    # @param accept [String] Specifies the response format that the client would like to receive back. This must be &#x60;application/json&#x60;.
    # @param accept_encoding [String] Specifies the response encoding that the client would like to receive back. This must be &#x60;gzip&#x60;.
    # @param customer_ip [String] IP address of the customer, as captured by your integration.&lt;br&gt; Ensure your integration passes the customer&#39;s IP, not your own. This value helps determine their location and assign the correct payment gateway.&lt;br&gt; Also used for fraud recovery and other important analytics.
    # @param user_agent [String] The &#x60;User-Agent&#x60; header string from the customer&#39;s request, as captured by your integration. If you are building an application then the &#x60;User-Agent&#x60; value should be &#x60;{app name}/{app version}&#x60;.
    # @param affiliate_reference_id [String] The affilliate reference id value. This field supports a maximum of 28 characters.
    # @param email [String] Email associated with the booking. Special characters in the local part or domain should be encoded.&lt;br&gt;
    # @param [Hash] opts the optional parameters
    # @option opts [String] :customer_session_id Insert your own unique value for each user session, beginning with the first API call. Continue to pass the same value for each subsequent API call during the user&#39;s session, using a new value for every new customer session.&lt;br&gt; Including this value greatly eases EPS&#39;s internal debugging process for issues with partner requests, as it explicitly links together request paths for individual user&#39;s session.
    # @option opts [String] :test The retrieve call has a test header that can be used to return set responses with the following keywords:&lt;br&gt; * &#x60;standard&#x60; - Requires valid test booking. * &#x60;degraded_response&#x60; - Requires valid test booking * &#x60;service_unavailable&#x60; * &#x60;internal_server_error&#x60;
    # @option opts [Array<String>] :include Options for which information to return in the response. The value must be lower case. * &#x60;history&#x60; - Include itinerary history, showing details of the changes made to this itinerary. Changes from the property/supplier have an event_source equal to &#x60;other&#x60; in the response.   * &#x60;history_v2&#x60; - Include itinerary history, showing details of the changes made to this itinerary. Changes from the property/supplier have an event_source equal to &#x60;supplier&#x60; in the response. See the [Itinerary history](https://developers.expediagroup.com/docs/rapid/lodging/manage-booking/itinerary-history#overview) for details.
    # @return [Array<GetReservation200ResponseInner>]
    def get_reservation(accept, accept_encoding, customer_ip, user_agent, affiliate_reference_id, email, opts = {})
      data, _status_code, _headers = get_reservation_with_http_info(accept, accept_encoding, customer_ip, user_agent, affiliate_reference_id, email, opts)
      data
    end

    # Search for and retrieve Bookings with Affiliate Reference Id
    # This can be called directly without a token when an affiliate reference id is provided. It returns details about bookings associated with an affiliate reference id, along with cancel links to cancel the bookings.  &lt;i&gt;Note: Newly created itineraries may sometimes have a small delay between the time of creation and the time that the itinerary can be retrieved. If you receive no results while trying to search for an itinerary that was successfully created, or if you receive a response with two fields, namely, &#x60;itinerary_id&#x60; and &#x60;creation_date_time&#x60;, then please wait a few minutes before trying to search for the itinerary again.&lt;/i&gt;
    # @param accept [String] Specifies the response format that the client would like to receive back. This must be &#x60;application/json&#x60;.
    # @param accept_encoding [String] Specifies the response encoding that the client would like to receive back. This must be &#x60;gzip&#x60;.
    # @param customer_ip [String] IP address of the customer, as captured by your integration.&lt;br&gt; Ensure your integration passes the customer&#39;s IP, not your own. This value helps determine their location and assign the correct payment gateway.&lt;br&gt; Also used for fraud recovery and other important analytics.
    # @param user_agent [String] The &#x60;User-Agent&#x60; header string from the customer&#39;s request, as captured by your integration. If you are building an application then the &#x60;User-Agent&#x60; value should be &#x60;{app name}/{app version}&#x60;.
    # @param affiliate_reference_id [String] The affilliate reference id value. This field supports a maximum of 28 characters.
    # @param email [String] Email associated with the booking. Special characters in the local part or domain should be encoded.&lt;br&gt;
    # @param [Hash] opts the optional parameters
    # @option opts [String] :customer_session_id Insert your own unique value for each user session, beginning with the first API call. Continue to pass the same value for each subsequent API call during the user&#39;s session, using a new value for every new customer session.&lt;br&gt; Including this value greatly eases EPS&#39;s internal debugging process for issues with partner requests, as it explicitly links together request paths for individual user&#39;s session.
    # @option opts [String] :test The retrieve call has a test header that can be used to return set responses with the following keywords:&lt;br&gt; * &#x60;standard&#x60; - Requires valid test booking. * &#x60;degraded_response&#x60; - Requires valid test booking * &#x60;service_unavailable&#x60; * &#x60;internal_server_error&#x60;
    # @option opts [Array<String>] :include Options for which information to return in the response. The value must be lower case. * &#x60;history&#x60; - Include itinerary history, showing details of the changes made to this itinerary. Changes from the property/supplier have an event_source equal to &#x60;other&#x60; in the response.   * &#x60;history_v2&#x60; - Include itinerary history, showing details of the changes made to this itinerary. Changes from the property/supplier have an event_source equal to &#x60;supplier&#x60; in the response. See the [Itinerary history](https://developers.expediagroup.com/docs/rapid/lodging/manage-booking/itinerary-history#overview) for details.
    # @return [Array<(Array<GetReservation200ResponseInner>, Integer, Hash)>] Array<GetReservation200ResponseInner> data, response status code and response headers
    def get_reservation_with_http_info(accept, accept_encoding, customer_ip, user_agent, affiliate_reference_id, email, opts = {})
      if @api_client.config.debugging
        @api_client.config.logger.debug 'Calling API: ManageBookingApi.get_reservation ...'
      end
      # verify the required parameter 'accept' is set
      if @api_client.config.client_side_validation && accept.nil?
        fail ArgumentError, "Missing the required parameter 'accept' when calling ManageBookingApi.get_reservation"
      end
      # verify the required parameter 'accept_encoding' is set
      if @api_client.config.client_side_validation && accept_encoding.nil?
        fail ArgumentError, "Missing the required parameter 'accept_encoding' when calling ManageBookingApi.get_reservation"
      end
      # verify the required parameter 'customer_ip' is set
      if @api_client.config.client_side_validation && customer_ip.nil?
        fail ArgumentError, "Missing the required parameter 'customer_ip' when calling ManageBookingApi.get_reservation"
      end
      # verify the required parameter 'user_agent' is set
      if @api_client.config.client_side_validation && user_agent.nil?
        fail ArgumentError, "Missing the required parameter 'user_agent' when calling ManageBookingApi.get_reservation"
      end
      # verify the required parameter 'affiliate_reference_id' is set
      if @api_client.config.client_side_validation && affiliate_reference_id.nil?
        fail ArgumentError, "Missing the required parameter 'affiliate_reference_id' when calling ManageBookingApi.get_reservation"
      end
      # verify the required parameter 'email' is set
      if @api_client.config.client_side_validation && email.nil?
        fail ArgumentError, "Missing the required parameter 'email' when calling ManageBookingApi.get_reservation"
      end
      allowable_values = ["standard", "service_unavailable", "internal_server_error"]
      if @api_client.config.client_side_validation && opts[:'test'] && !allowable_values.include?(opts[:'test'])
        fail ArgumentError, "invalid value for \"test\", must be one of #{allowable_values}"
      end
      allowable_values = ["history"]
      if @api_client.config.client_side_validation && opts[:'include'] && !opts[:'include'].all? { |item| allowable_values.include?(item) }
        fail ArgumentError, "invalid value for \"include\", must include one of #{allowable_values}"
      end
      # resource path
      local_var_path = '/itineraries'

      # query parameters
      query_params = opts[:query_params] || {}
      query_params[:'affiliate_reference_id'] = affiliate_reference_id
      query_params[:'email'] = email
      query_params[:'include'] = @api_client.build_collection_param(opts[:'include'], :multi) if !opts[:'include'].nil?

      # header parameters
      header_params = opts[:header_params] || {}
      # HTTP header 'Accept' (if needed)
      header_params['Accept'] = @api_client.select_header_accept(['application/json']) unless header_params['Accept']
      header_params[:'Accept'] = accept
      header_params[:'Accept-Encoding'] = accept_encoding
      header_params[:'Customer-Ip'] = customer_ip
      header_params[:'User-Agent'] = user_agent
      header_params[:'Customer-Session-Id'] = opts[:'customer_session_id'] if !opts[:'customer_session_id'].nil?
      header_params[:'Test'] = opts[:'test'] if !opts[:'test'].nil?

      # form parameters
      form_params = opts[:form_params] || {}

      # http body (model)
      post_body = opts[:debug_body]

      # return_type
      return_type = opts[:debug_return_type] || 'Array<GetReservation200ResponseInner>'

      # auth_names
      auth_names = opts[:debug_auth_names] || ['rapidAuth']

      new_options = opts.merge(
        :operation => :"ManageBookingApi.get_reservation",
        :header_params => header_params,
        :query_params => query_params,
        :form_params => form_params,
        :body => post_body,
        :auth_names => auth_names,
        :return_type => return_type
      )

      data, status_code, headers = @api_client.call_api(:GET, local_var_path, new_options)
      if @api_client.config.debugging
        @api_client.config.logger.debug "API called: ManageBookingApi#get_reservation\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"
      end
      return data, status_code, headers
    end

    # Retrieve Booking
    # This API call returns itinerary details and links to resume or cancel the booking. There are two methods to retrieve a booking: * Using the link included in the original Book response, example: https://api.ean.com/v3/itineraries/8955599932111?token=QldfCGlcUA4GXVlSAQ4W * Using the email of the booking. If the email contains special characters, they must be encoded to successfully retrieve the booking. Example: https://api.ean.com/v3/itineraries/8955599932111?email=customer@email.com  <i>Note: Newly created itineraries may sometimes have a small delay between the time of creation and the time that the itinerary can be retrieved. If you receive an error when trying to retrieve an itinerary that was successfully created, or if you receive a response with two fields, namely, `itinerary_id` and `creation_date_time`, then please wait a few minutes before trying to retrieve the itinerary again.</i>
    # @param accept [String] Specifies the response format that the client would like to receive back. This must be &#x60;application/json&#x60;.
    # @param accept_encoding [String] Specifies the response encoding that the client would like to receive back. This must be &#x60;gzip&#x60;.
    # @param customer_ip [String] IP address of the customer, as captured by your integration.&lt;br&gt; Ensure your integration passes the customer&#39;s IP, not your own. This value helps determine their location and assign the correct payment gateway.&lt;br&gt; Also used for fraud recovery and other important analytics.
    # @param user_agent [String] The &#x60;User-Agent&#x60; header string from the customer&#39;s request, as captured by your integration. If you are building an application then the &#x60;User-Agent&#x60; value should be &#x60;{app name}/{app version}&#x60;.
    # @param itinerary_id [String] This parameter is used only to prefix the token value - no ID value is used.&lt;br&gt;
    # @param [Hash] opts the optional parameters
    # @option opts [String] :customer_session_id Insert your own unique value for each user session, beginning with the first API call. Continue to pass the same value for each subsequent API call during the user&#39;s session, using a new value for every new customer session.&lt;br&gt; Including this value greatly eases EPS&#39;s internal debugging process for issues with partner requests, as it explicitly links together request paths for individual user&#39;s session.
    # @option opts [String] :test The retrieve call has a test header that can be used to return set responses. Passing standard in the Test header will retrieve a test booking, and passing any of the errors listed below will return a stubbed error response that you can use to test your error handling code. Additionally, refer to the Test Request documentation for more details on how these header values are used. * &#x60;standard&#x60; - Requires valid test booking. * &#x60;degraded_response&#x60; - Requires valid test booking * &#x60;service_unavailable&#x60; * &#x60;internal_server_error&#x60;
    # @option opts [String] :token Provided as part of the link object and used to maintain state across calls. This simplifies each subsequent call by limiting the amount of information required at each step and reduces the potential for errors. Token values cannot be viewed or changed.
    # @option opts [String] :email Email associated with the booking. Special characters in the local part or domain should be encoded. (Email is required if the token is not provided the request) &lt;br&gt;
    # @option opts [Array<String>] :include Options for which information to return in the response. The value must be lower case. * &#x60;history&#x60; - Include itinerary history, showing details of the changes made to this itinerary. Changes from the property/supplier have an event_source equal to &#x60;other&#x60; in the response.   * &#x60;history_v2&#x60; - Include itinerary history, showing details of the changes made to this itinerary. Changes from the property/supplier have an event_source equal to &#x60;supplier&#x60; in the response. See the [Itinerary history](https://developers.expediagroup.com/docs/rapid/lodging/manage-booking/itinerary-history#overview) for details.
    # @return [GetReservation200ResponseInner]
    def get_reservation_by_itinerary_id(accept, accept_encoding, customer_ip, user_agent, itinerary_id, opts = {})
      data, _status_code, _headers = get_reservation_by_itinerary_id_with_http_info(accept, accept_encoding, customer_ip, user_agent, itinerary_id, opts)
      data
    end

    # Retrieve Booking
    # This API call returns itinerary details and links to resume or cancel the booking. There are two methods to retrieve a booking: * Using the link included in the original Book response, example: https://api.ean.com/v3/itineraries/8955599932111?token&#x3D;QldfCGlcUA4GXVlSAQ4W * Using the email of the booking. If the email contains special characters, they must be encoded to successfully retrieve the booking. Example: https://api.ean.com/v3/itineraries/8955599932111?email&#x3D;customer@email.com  &lt;i&gt;Note: Newly created itineraries may sometimes have a small delay between the time of creation and the time that the itinerary can be retrieved. If you receive an error when trying to retrieve an itinerary that was successfully created, or if you receive a response with two fields, namely, &#x60;itinerary_id&#x60; and &#x60;creation_date_time&#x60;, then please wait a few minutes before trying to retrieve the itinerary again.&lt;/i&gt;
    # @param accept [String] Specifies the response format that the client would like to receive back. This must be &#x60;application/json&#x60;.
    # @param accept_encoding [String] Specifies the response encoding that the client would like to receive back. This must be &#x60;gzip&#x60;.
    # @param customer_ip [String] IP address of the customer, as captured by your integration.&lt;br&gt; Ensure your integration passes the customer&#39;s IP, not your own. This value helps determine their location and assign the correct payment gateway.&lt;br&gt; Also used for fraud recovery and other important analytics.
    # @param user_agent [String] The &#x60;User-Agent&#x60; header string from the customer&#39;s request, as captured by your integration. If you are building an application then the &#x60;User-Agent&#x60; value should be &#x60;{app name}/{app version}&#x60;.
    # @param itinerary_id [String] This parameter is used only to prefix the token value - no ID value is used.&lt;br&gt;
    # @param [Hash] opts the optional parameters
    # @option opts [String] :customer_session_id Insert your own unique value for each user session, beginning with the first API call. Continue to pass the same value for each subsequent API call during the user&#39;s session, using a new value for every new customer session.&lt;br&gt; Including this value greatly eases EPS&#39;s internal debugging process for issues with partner requests, as it explicitly links together request paths for individual user&#39;s session.
    # @option opts [String] :test The retrieve call has a test header that can be used to return set responses. Passing standard in the Test header will retrieve a test booking, and passing any of the errors listed below will return a stubbed error response that you can use to test your error handling code. Additionally, refer to the Test Request documentation for more details on how these header values are used. * &#x60;standard&#x60; - Requires valid test booking. * &#x60;degraded_response&#x60; - Requires valid test booking * &#x60;service_unavailable&#x60; * &#x60;internal_server_error&#x60;
    # @option opts [String] :token Provided as part of the link object and used to maintain state across calls. This simplifies each subsequent call by limiting the amount of information required at each step and reduces the potential for errors. Token values cannot be viewed or changed.
    # @option opts [String] :email Email associated with the booking. Special characters in the local part or domain should be encoded. (Email is required if the token is not provided the request) &lt;br&gt;
    # @option opts [Array<String>] :include Options for which information to return in the response. The value must be lower case. * &#x60;history&#x60; - Include itinerary history, showing details of the changes made to this itinerary. Changes from the property/supplier have an event_source equal to &#x60;other&#x60; in the response.   * &#x60;history_v2&#x60; - Include itinerary history, showing details of the changes made to this itinerary. Changes from the property/supplier have an event_source equal to &#x60;supplier&#x60; in the response. See the [Itinerary history](https://developers.expediagroup.com/docs/rapid/lodging/manage-booking/itinerary-history#overview) for details.
    # @return [Array<(GetReservation200ResponseInner, Integer, Hash)>] GetReservation200ResponseInner data, response status code and response headers
    def get_reservation_by_itinerary_id_with_http_info(accept, accept_encoding, customer_ip, user_agent, itinerary_id, opts = {})
      if @api_client.config.debugging
        @api_client.config.logger.debug 'Calling API: ManageBookingApi.get_reservation_by_itinerary_id ...'
      end
      # verify the required parameter 'accept' is set
      if @api_client.config.client_side_validation && accept.nil?
        fail ArgumentError, "Missing the required parameter 'accept' when calling ManageBookingApi.get_reservation_by_itinerary_id"
      end
      # verify the required parameter 'accept_encoding' is set
      if @api_client.config.client_side_validation && accept_encoding.nil?
        fail ArgumentError, "Missing the required parameter 'accept_encoding' when calling ManageBookingApi.get_reservation_by_itinerary_id"
      end
      # verify the required parameter 'customer_ip' is set
      if @api_client.config.client_side_validation && customer_ip.nil?
        fail ArgumentError, "Missing the required parameter 'customer_ip' when calling ManageBookingApi.get_reservation_by_itinerary_id"
      end
      # verify the required parameter 'user_agent' is set
      if @api_client.config.client_side_validation && user_agent.nil?
        fail ArgumentError, "Missing the required parameter 'user_agent' when calling ManageBookingApi.get_reservation_by_itinerary_id"
      end
      # verify the required parameter 'itinerary_id' is set
      if @api_client.config.client_side_validation && itinerary_id.nil?
        fail ArgumentError, "Missing the required parameter 'itinerary_id' when calling ManageBookingApi.get_reservation_by_itinerary_id"
      end
      allowable_values = ["standard", "service_unavailable", "internal_server_error"]
      if @api_client.config.client_side_validation && opts[:'test'] && !allowable_values.include?(opts[:'test'])
        fail ArgumentError, "invalid value for \"test\", must be one of #{allowable_values}"
      end
      allowable_values = ["history"]
      if @api_client.config.client_side_validation && opts[:'include'] && !opts[:'include'].all? { |item| allowable_values.include?(item) }
        fail ArgumentError, "invalid value for \"include\", must include one of #{allowable_values}"
      end
      # resource path
      local_var_path = '/itineraries/{itinerary_id}'.sub('{' + 'itinerary_id' + '}', CGI.escape(itinerary_id.to_s))

      # query parameters
      query_params = opts[:query_params] || {}
      query_params[:'token'] = opts[:'token'] if !opts[:'token'].nil?
      query_params[:'email'] = opts[:'email'] if !opts[:'email'].nil?
      query_params[:'include'] = @api_client.build_collection_param(opts[:'include'], :multi) if !opts[:'include'].nil?

      # header parameters
      header_params = opts[:header_params] || {}
      # HTTP header 'Accept' (if needed)
      header_params['Accept'] = @api_client.select_header_accept(['application/json']) unless header_params['Accept']
      header_params[:'Accept'] = accept
      header_params[:'Accept-Encoding'] = accept_encoding
      header_params[:'Customer-Ip'] = customer_ip
      header_params[:'User-Agent'] = user_agent
      header_params[:'Customer-Session-Id'] = opts[:'customer_session_id'] if !opts[:'customer_session_id'].nil?
      header_params[:'Test'] = opts[:'test'] if !opts[:'test'].nil?

      # form parameters
      form_params = opts[:form_params] || {}

      # http body (model)
      post_body = opts[:debug_body]

      # return_type
      return_type = opts[:debug_return_type] || 'GetReservation200ResponseInner'

      # auth_names
      auth_names = opts[:debug_auth_names] || ['rapidAuth']

      new_options = opts.merge(
        :operation => :"ManageBookingApi.get_reservation_by_itinerary_id",
        :header_params => header_params,
        :query_params => query_params,
        :form_params => form_params,
        :body => post_body,
        :auth_names => auth_names,
        :return_type => return_type
      )

      data, status_code, headers = @api_client.call_api(:GET, local_var_path, new_options)
      if @api_client.config.debugging
        @api_client.config.logger.debug "API called: ManageBookingApi#get_reservation_by_itinerary_id\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"
      end
      return data, status_code, headers
    end
  end
end
